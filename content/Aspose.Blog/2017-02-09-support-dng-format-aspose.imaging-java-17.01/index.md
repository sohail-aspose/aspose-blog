---
title: 'Export Images in a Multi-Threaded Environment using Java'
date: Thu, 09 Feb 2017 03:53:27 +0000
draft: false
url: /2017/02/09/support-dng-format-aspose.imaging-java-17.01/
author: Ikram Haq
summary: ''
tags: []
categories: ['Aspose.Imaging Product Family']
---

We are pleased to announce the release of [Aspose.Imaging for Java][1] 17.01. The major development in this release is support for [exporting images in multi threaded environment][2]. Support for [DNG format][3] has also been incorporated in this release.

## Export Images in Multi-Threaded Environment in Java

Aspose.Imaging for Java now supports [exporting images in multi threaded environment][4]. Aspose.Imaging for Java ensure the optimized performance of operations during execution of code in multi-threaded environment. All imaging option classes (e.g. BmpOptions, TiffOptions, JpegOptions, etc.) in the Aspose.Imaging for Java now implement IDisposable interface. Therefore it is a must that developer properly dispose off the imaging options class object in case getSyncRoot property is set. Following code snippet demonstrates the said functionality.

```
// Create temporary image.
        java.io.File tmp = java.io.File.createTempFile("image", "tes");
        
        // Delete the file. This statement should execute to make it sure that resource is properly disposed off.
        tmp.deleteOnExit();
        
        // Path & name of existing image.
        String imageDataPath = tmp.getAbsolutePath();

        // Create the stream of the existing image file.
        java.io.InputStream fileStream = new java.io.FileInputStream(tmp);
        try
        {
            // Create an instance of BMP image option class.
            com.aspose.imaging.imageoptions.BmpOptions bmpOptions = new com.aspose.imaging.imageoptions.BmpOptions();
            try
            {
		bmpOptions.setBitsPerPixel(32);
		
                // Set the source property of the imaging option class object.
                bmpOptions.setSource(new com.aspose.imaging.sources.StreamSource(fileStream));

                // Do processing. Following is the sample processing on the image. Un-comment to use it.
		// com.aspose.imaging.RasterImage image = (com.aspose.imaging.RasterImage)com.aspose.imaging.Image.create(bmpOptions, 10, 10);
		// try
		// {
		//	com.aspose.imaging.Color[] pixels = new com.aspose.imaging.Color[4];
		//	for (int i = 0; i < 4; ++i)
		//	{
		//		pixels[i] = com.aspose.imaging.Color.fromArgb(40, 30, 20, 10);
		//	}
		//	image.savePixels(new com.aspose.imaging.Rectangle(0, 0, 2, 2), pixels);
		//	image.save(imageDataPath);
		//}
		//finally
		//{
                    // This statement is in the final block because in any case this statement should execute to make it sure that resource is properly disposed off.
                //    image.dispose();
		//}
            }
            finally
            {
                // This statement is in the final block because in any case this statement should execute to make it sure that resource is properly disposed off.
                bmpOptions.dispose();
            }
        }
        finally
        {
            // This statement is in the final block because in any case this statement should execute to make it sure that resource is properly disposed off.
            fileStream.close();
            fileStream = null;
        }
```

Aspose.Imaging now supports getSyncRoot property while working in multi-threaded environment. Developer can use this property to synchronize access to the source stream. Following code snippet demonstrates how the getSyncRoot property can be used.

```
 // create new synchronized two-way stream
        com.aspose.imaging.StreamContainer streamContainer = new com.aspose.imaging.StreamContainer(new java.io.ByteArrayInputStream(new byte[0]));
        try
        {
            // check if the access to the stream source is synchronized.
            synchronized (streamContainer.getSyncRoot())
            {
                    // do work
                    // now access to streamContainer is synchronized
            }
        }
        finally
        {
                streamContainer.dispose();
        } 
```

## Work with DNG Image in Java

Aspose.Imaging for Java now supports the DNG (Digital Negative) image format (.dng). It is a publicly available archival format for the raw files generated by digital cameras. DNG helps ensure that photographers will be able to access their files in the future. Aspose.Imaging for Java provides the DngImage class to load DNG files and same can be used to convert the DNG to raster formats. Below provided sample code demonstrate how to [convert a DNG file to JPEG format][5].

```
//Declare variables to store file paths for input and output images.
String sourceFiles = "Path_to_source_folder\\Source\\HDR - 3c.dng";
String destPath = "Path_to_results_folder\\Results\\result.jpg";

// Create an instance of Image class and load an exiting DNG file.
// Convert the image to DngImage object.
com.aspose.imaging.fileformats.dng.DngImage objimage = (com.aspose.imaging.fileformats.dng.DngImage)
                                                                com.aspose.imaging.Image.load(sourceFiles);
// Create an instance of JpegOptions class.
// convert and save to disk in Jpeg file format.
objimage.save(destPath, new com.aspose.imaging.imageoptions.JpegOptions());
```

## Enhancements

The following enhancements have been introduced in this release.

*   Process of updating PSD text layer has been improved.
*   Processing of updating PSD text layer with non-English characters has been improved.
*   Processing of converting PSD layer to PNG format has been improved.
*   Processing of Aspose.Imaging API in a multi-threaded environment has been improved.

Please refer to the release notes of [Aspose.Imaging for Java 17.01][6] for a full view of improvements along with sample code snippets for newly added features. If you are planning to upgrade the API to the latest revision, we strongly suggest you to check the [Public API Changes][7] section to know what has been changed in the public API since your current version.

## Aspose.Imaging for Java Resources

The resources, you may need to accomplish your tasks:

*   [Home page for Aspose.Imaging for Java API][8].
*   [Download Aspose.Imaging for Java][9].
*   [Aspose.Imaging for Java online documentation][10] – help documentation and API reference documents.
*   [Aspose.Imaging Product Family Forum][11] – post your technical questions and queries, or any other problem you are facing while working with Aspose.Imaging APIs.
*   [Enable blog Subscription][12] – Do not limit yourself, you can keep yourself updated with the latest news on Aspose.Imaging APIs, new features, fixes and other API related topics by subscribing to Aspose.Imaging blog.
*   [Aspose.Imaging for Java in Online Repository][13] – We have published the JAR files on the Maven repository. Anyone could explore the code examples for learning purposes.

As always we appreciate your feedback so if you ever have anything to tell us about this release or anything else, please head to the [Aspose.Imaging forum][14] for a chat.




[1]: https://products.aspose.com/imaging/java
[2]: https://docs.aspose.com/imaging/java/export-images-in-multi-threaded-environment/
[3]: https://docs.aspose.com/imaging/java/manipulating-dng-images/
[4]: https://docs.aspose.com/imaging/java/export-images-in-multi-threaded-environment/
[5]: https://docs.aspose.com/imaging/java/manipulating-dng-images/
[6]: http://downloads.aspose.com/imaging/java/new-releases/aspose.imaging-for-java-version-16.12/
[7]: https://docs.aspose.com/imaging/java/release-notes/
[8]: https://www.aspose.com/products/imaging/java
[9]: https://downloads.aspose.com/imaging/java
[10]: https://docs.aspose.com/imaging/java/
[11]: http://forum.aspose.com
[12]: https://blog.aspose.com/category/aspose-products/aspose.imaging-product-family/
[13]: http://maven.aspose.com/repository/simple/ext-release-local/com/aspose/aspose-imaging/
[14]: http://forum.aspose.com




